# 项目基本思路规划
 
*********************

## 功能简述
1. 两种传输方式
   1. 通过服务器暂存方式进行传输(基本功能)
   2. 两人均在线时直传方式(可选的功能) :目前没啥思路,毕竟直接通过浏览器传输文件感觉挺难
2. 上传各种学习资料(这个能向同学要)

## 具体实现
1. 实现文件上传的功能
2. 实现文件加密功能
   - [ ] 文件在本地加密,密文传输(无需HTTPS)
   - [ ] 文件在服务器加密,明文传输(好像没啥意义)
   - [ ] 文件不加密,密文传输(需要HTTPS)
   - [ ] 文件不加密,明文传输(直接裸奔,速度快得很呐)
3. 有关数据库的操作:两种路线
    1. 数据库存储的是上传者,文件在磁盘中的位置,文件的格式,文件的大小,文件的名字,收件人,文件的加密状态,文件的上传时间,这样文件直接存在磁盘里(已经加密或者不加密)
    2. 用户上传的数据直接到数据库中:感觉不是很现实,数据库会很大
4. 关于用户识别
    1. 很明显这个系统要求匿名,这是这个系统的初衷.
    2. 使用学号的方法存在泄露的可能性,只能在文件不加密,明文传输的传输方式中使用(要裸奔就贯彻到底)
    3. 可以使用sha256的加密方法对学号加密,得到一串乱码,因为256的加密是唯一的,所以可以作为用户的识别码.
    4. 也就是说,用户在浏览器端输入的确实是学号,但是计算机存储的是加密后的学号.
5. 关于文件的储存方式
   1. 明文储存:直接存在磁盘中,不加密,数据库中储存文件位置和收件人即可
   2. 密文储存:加密后储存在硬盘中,数据库中储存文件位置和收件人即可,加密可能需要借助使用者的电脑.
6. 关于文件的加密
    1. 文件的加密可以在客户网页端运行
    2. 关于加密算法的选择:
       * RSA算法:这种算法被确认为效率低下,不适合用于数据的加密
       * DSA算法:据悉该算法效率尚可,是非对称算法,但是除了私钥和公钥外还会生成证书,增加了使用难度,不适合本次项目
       * ECC算法:非对称,效率高,安全性好,而且加密解密速度比其他算法速度更快.
7. 目前设想的使用逻辑
```
flowchart LR
A[用户进入] -->|输入发件人和收件人学号| B(针对学号加密为密文)
B --> C{Decision}
C -->|选择非加密传输| D[直接上传]
C -->|选择加密传输| E[ECC加密以后上传到服务器]
D -->|收件人收件或者储存时间到| F[文件删除]
E -->|收件人收件或者储存时间到| F[文件删除]
```
至于是否在接受以后被删除是值得商谈的问题

## 需要技术
1. HTML,Django等前后端技术
2. javaScript,可能要用这玩意来解决加解密问题,毕竟都要在本地完成.
    
